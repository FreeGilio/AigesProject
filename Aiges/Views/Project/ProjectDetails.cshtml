@model Aiges.MVC.Models.ProjectDetailsViewModel

@{
    ViewData["Title"] = "Project Details - Forum View";
    bool isAdmin = (bool)ViewData["IsAdmin"];
}

<head>
    <link rel="stylesheet" href="~/css/ProjectPage.css" asp-append-version="true" />
</head>

<body>
    <div class="forum-container">
        <!-- Forum Header -->
        <div class="forum-header">
            <h1>@Model.Title</h1>
            @if (Model.Category != null)
            {
                <p><strong>Category:</strong>@Model.Category.Name</p>
            }
            else
            {
                <p><strong>Category:</strong>Uncategorized</p>
            }
            <p><strong>Created by:</strong> @Model.Creator.Username</p>
        </div>

        <!-- Forum Content -->
        <div class="forum-content">
            <div class="forum-post">
                <p>@Model.Description</p>
                <p><strong>Tags:</strong> @Model.Tags</p>
                <p><strong>Last Updated:</strong> @Model.LastUpdated.ToString("MMMM d, yyyy")</p>
                <p><strong>Project File:</strong> @Model.ProjectFile</p>

                @if (Model.Concept)
                {
                    <div class="forum-concept-note">
                        <strong>Note:</strong> This project is still in the concept phase.
                    </div>
                }
            </div>
        </div>

        <!-- Forum Footer -->
        <div class="forum-footer">
            <a href="/Project/Edit?id=@Model.Id" class="btn btn-edit">Edit Project</a>
            <a href="/Project/Delete?id=@Model.Id" class="btn btn-delete">Delete Project</a>
        </div>

        <!-- Admin Buttons -->
        @if (isAdmin && Model.Concept)
        {
            <div class="forum-footer">
                <form asp-action="Accept" method="post" style="display:inline;">
                    <input type="hidden" name="id" value="@Model.Id" />
                    <button type="submit" class="btn btn-edit" onclick="return confirm('Are you sure you want to accept this project?');">
                        Accept Concept
                    </button>
                </form>
            </div>
        }      
    </div>
</body>

<script>
    function confirmAction(url, message) {
        if (confirm(message)) {
            window.location.href = url;
        }
    }
</script>

